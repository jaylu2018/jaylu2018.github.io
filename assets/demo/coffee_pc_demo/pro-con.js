<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script>(function(){var t;t=10,(new(function(){function e(){}return e.prototype.data={mutex:1,empty:t,full:0,front:0,rear:0,buf:[]},e.prototype.init=function(){var e,a,r=this;for(e=0;e<t;)a=$('<div class="bufBox"><div class="bufCover">'+e+"</div>"+e+""),$("#buf").append(a),this.data.buf.push("e"),e++;return $("#produce").click(function(){return r.producer()}),$("#consume").click(function(){return r.consumer()})},e.prototype.p=function(t){return--t},e.prototype.v=function(t){return++t},e.prototype.produceItem=function(){return $('<p class="desPro">生产了产品</p>').insertBefore($("#des p:first")),"m"},e.prototype.consumeItem=function(){return $('<p class="desCon">消费了产品</p>').insertBefore($("#des p:first"))},e.prototype.enterItem=function(e){var a;return this.data.front=(this.data.front+1)%t,this.data.buf[this.data.front]=e,a="存入产品"+this.data.buf[this.data.front]+"到缓冲区"+this.data.front,$("<p class="desPro">"+a+"</p>").insertBefore($("#des p:first")),$($(".bufCover")[this.data.front]).animate({height:"50px"})},e.prototype.removeItem=function(){var e;return this.data.rear=(this.data.rear+1)%t,this.data.buf[this.data.rear]="e",e="取出产品"+this.data.buf[this.data.rear]+"从缓冲区"+this.data.rear,$("<p class="desCon">"+e+"</p>").insertBefore($("#des p:first")),$($(".bufCover")[this.data.rear]).animate({height:"0px"})},e.prototype.producer=function(){var e;if(this.data.full!==t)return e=this.produceItem(),this.data.empty=this.p(this.data.empty),this.data.mutex=this.p(this.data.mutex),this.enterItem(e),this.data.mutex=this.v(this.data.mutex),this.data.full=this.v(this.data.full);$("<p class="desSpe">缓冲区已全满</p>").insertBefore($("#des p:first"))},e.prototype.consumer=function(){if(this.data.empty!==t)return this.data.full=this.p(this.data.full),this.data.mutex=this.p(this.data.mutex),this.removeItem(),this.data.mutex=this.v(this.data.mutex),this.data.empty=this.v(this.data.empty),this.consumeItem();$("<p class="desSpe">缓冲区已空</p>").insertBefore($("#des p:first"))},e}())).init()}).call(this);</t;)a=$('<div>