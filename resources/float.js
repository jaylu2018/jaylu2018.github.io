function Gravity(t){var e=this,n=document.getElementById(t),o=n.textContent.split("");this.animate=!0,this.floating=!0,this.resetTime=0,this.positionType=getComputedStyle(n).position,this.lerp=function(t,e,n){return(1-n)*t+n*e},this.checkBound=function(){if(n.hasAttribute("data-bound"))return"true"===n.dataset.bound},this.useBound=this.checkBound(),this.colors=["#717171"],this.randomColor=function(){var t=Math.floor(Math.random()*this.colors.length);return this.colors[t]},this.bounds=this.useBound?{min:{x:n.offsetLeft,y:n.offsetTop},max:{x:n.offsetLeft+n.offsetWidth,y:n.offsetTop+n.offsetHeight}}:{min:{x:0,y:0},max:{x:window.innerWidth,y:window.innerHeight}},this.pointInCircle=function(t,e,n){var o=(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y);return[o<=n*n,o]},this.textSpans=[],n.innerHTML="",o.forEach(function(t,o){var i=function(t,n){var o=document.createElement("span");return o.innerHTML=t,o.style.position="relative",o.style.display="inline-block",o.style.minWidth="10px",o.style.color=e.randomColor(),o._own={pos:{x:0,y:0},vel:{x:-.5+Math.random(),y:-.5+Math.random()},speed:{x:1,y:1},dir:{x:1,y:1}},o}(t);n.appendChild(i),e.textSpans.push(i)}),this.getDim=function(){this.textSpans.forEach(function(t,o){var i={x:0,y:0};"relative"!==e.positionType&&"absolute"!==e.positionType||(i.x=n.offsetLeft,i.y=n.offsetTop),t._own.real={x:i.x+t.offsetLeft,y:i.y+t.offsetTop},t._own.size={x:t.offsetWidth,y:t.offsetHeight}})},this.getDim(),this.floatText=function(){this.textSpans.forEach(function(t,n){(t._own.pos.x+t._own.real.x<e.bounds.min.x||t._own.pos.x+t._own.real.x+t._own.size.x>e.bounds.max.x)&&(t._own.dir.x*=-1),(t._own.pos.y+t._own.real.y<e.bounds.min.y||t._own.pos.y+t._own.real.y+t._own.size.y>e.bounds.max.y)&&(t._own.dir.y*=-1),t._own.pos.x+=t._own.vel.x*t._own.speed.x*t._own.dir.x,t._own.pos.y+=t._own.vel.y*t._own.speed.y*t._own.dir.y,t.style.transform="translateX("+t._own.pos.x+"px) translateY("+t._own.pos.y+"px)"})},this.update=function(){this.animate&&(this.floating?this.floatText():this.floatBackwards())},this.floatBackwards=function(){this.textSpans.forEach(function(t,n){var o=e.lerp(t._own.pos.x,0,e.resetTime/10),i=e.lerp(t._own.pos.y,0,e.resetTime/10);t.style.transform="translateX("+o+"px) translateY("+i+"px)"}),10===this.resetTime&&(this.animate=!1,this.resetTime=0),this.resetTime++},this.reset=function(){this.floating=!1},this.restart=function(){this.textSpans.forEach(function(t,e){t._own.pos.x=0,t._own.pos.y=0}),this.floating=!0,this.animate=!0},window.onresize=function(){e.getDim()}}function animation(t){paragraph.update(),gravity.update()}var time=0,paragraph=new Gravity("text"),gravity=new Gravity("reset"),button=document.getElementById("reset");button.addEventListener("click",function(){gravity.animate?(gravity.reset(),paragraph.reset()):(gravity.restart(),paragraph.restart())}),$(document).ready(function(){setTimeout(function(){gravity.animate?(gravity.reset(),paragraph.reset()):(gravity.restart(),paragraph.restart())},5e3)});var render=function(t){requestAnimationFrame(render),animation(t)};render(time);